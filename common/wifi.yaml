# TODO: I don't like to have the IP specified in the device

substitutions:
  ap_password: !secret ap_password
  ota_password: !secret ota_password

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  # Optional manual IP
  manual_ip:
    static_ip: ${static_ip}
    gateway: 10.0.20.1
    subnet: 255.255.255.0

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: ${device_name}
    password: ${ap_password}

captive_portal:

ota:
  - platform: esphome
    password: ${ota_password}